# Exercise 4

## Defining familiar Concepts

### URL Shortener

Define a concept for the essential function of a URL shortening service such as tinyurl.com or bit.ly. Your concept should support both user-defined and autogenerated URL suffixes

```
concept URLShortener
  purpose
    map long URLs to shorter, more convenient aliases

  principle
    after a user submits their original URL,
    they will receive a new URL (either user-defined or autogenerated) that when accessed,
    will redirect the user to the original (longer) URL

  state
    a set of shortURLs with
        a nickname String,
        a redirectedURL String

  actions
    createGenericNickname (redirectedURL: String): (shortURL: shortURL)
        requires: a valid, reachable redirectedURL
        effects: returns a new shortURL with a unique autogenerated nickname shorter than the original URL

    createCustomNickname (redirectedURL: String, nickname: String): (shortURL: shortURL)
        requires: a valid, reachable redirectedURL
        effects: returns a new shortURL using the specified nickname. If the nickname was already associated with a redirectedURL, overwrites it.

    redirect (nickname: String):
        requires: a currently existing nickname
        effects: redirects the user to the redirectedURL corresponding to the nickname

    delete (nickname: String)
        requires: a currently existing nickname
        effects: removes the corresponding shortURL
```

---

### Billable Hours Tracking

Many companies that bill clients for work by the hour use tracking software to help automate record keeping. Define a concept that handles the core functionality. Assume that, in the application that uses this concept, an employee marks the beginning of a session by selecting a project and entering a string describing the work to be done, and then marks the end of the session with another interaction. Think about how to handle a case in which someone forgets to end a session

```
concept BillableHourTracking
  purpose
    record time spent by employees working

  principle
    after an employee selects a project and describes the task,
    their workPeriod begins;
    the workPeriod ends when the employee clocks out;
    if the workPeriod is not ended manually, the system can infer an end time based on the estimated duration in the description.

  state
    a set of workPeriods with
        an employeeId String
        a projectName String,
        a description String,
        a startTime DateTime,
        an optional endTime DateTime
        an anticipatedDuration DateTime,

  actions
    clockIn (employeeId: String, projectName: String, description: String, anticipatedDuration: DateTime, currentTime: DateTime): workPeriod
      requires: valid project, non-empty description, and positive duration
      effects: creates a new workPeriod with employeeId, projectName, description, anticipatedDuration, and startTime equal to the currentTime. If an existing active workPeriod exists for this employee (they have a workPeriod with no endTime), sets that workPeriod's endTime to its startTime + anticipatedDuration before creating the new session

    clockOut (employeeId: String, currentTime: DateTime)
      requires: only one active workPeriod exists for the employee
      effects: sets endTime of the current workPeriod to currentTime
```

### Additional notes

The employees' anticipatedDuration time will be taken at face value. If the employee forgets to end a session, the endTime will be equal to startTime + anticipatedDuration. This is the easiest and most effective to approximate the actual hours worked because you are not randomly guessing or basing it off their prior schedule.

---

### Conference Room Booking

Define a concept for the essential function of a service for booking conference rooms in a company or university department, like CSAILâ€™s room booking system. Note: you do not need to include recurring bookings

```
concept BookConferenceRoom
  purpose
    Reserve and manage single-use conference room bookings across specified times and rooms

  principle
    after a user selects a room, date/time, and duration,
    available slots for that room are displayed,
    after which the user can select a slot to reserve

  state
    a set of Bookings with
        an owner String,
        a slot Slot
    a set of Slots with
        a room String,
        a dateAndTime DateTime,
        a duration Integer,
        a claimed Flag

  actions
    createBooking (owner: String, slot: Slot): (booking: Booking)
        requires: slot exists and is unclaimed
        effects: returns a new Booking for the owner with that slot

    deleteBooking (owner: String, slot: Slot): (booking: Booking)
        requires: an existing Booking for that owner for that slot.
        effects: removes the Booking for that owner with that slot. Marks the slot as unclaimed

    seeAvailableSlots (owner: String, currentTime: DateTime, room: String, dateAndTime: DateTime, duration: Integer):
        requires: dateAndTime is in the future (after currentTime); valid room name
        effects: displays all available (unclaimed) slots for the given room, dateAndTime, and duration


```

### Additional notes

An owner can reserve multiple slots at the same time - this is to support booking rooms for multiple people.
